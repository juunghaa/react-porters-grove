import React from 'react';
import './SubActivityCard.css';

const SubActivityCard = ({ subActivity, activityTitle }) => {
  if (!subActivity) return null;

  // 날짜 포맷팅
  const formatDate = (dateStr) => {
    if (!dateStr) return '';
    return dateStr.replace(/-/g, '.');
  };

  return (
    <div className="sub-activity-card">
      {/* 스킬 태그 영역 */}
      <div className="sub-card-skills">
        {/* 하드스킬 */}
        {subActivity.hard_tools && (
          <div className="skill-tag hard-skill-tag">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
              <path d="M10.9981 4.25C11.4126 4.25 11.7482 3.91412 11.7482 3.49994V2.75006C11.7482 2.33588 11.4126 2 10.9981 2C10.5836 2 10.248 2.33588 10.248 2.75006V3.50012C10.248 3.9143 10.5836 4.25 10.9981 4.25Z" fill="#B4F0CB"/>
              <path d="M7.9978 5.00341C8.41404 5.00341 8.75146 4.66599 8.75146 4.24975C8.75146 3.83352 8.41404 3.49609 7.9978 3.49609C7.58157 3.49609 7.24414 3.83352 7.24414 4.24975C7.24414 4.66599 7.58157 5.00341 7.9978 5.00341Z" fill="#B4F0CB"/>
              <path d="M13.2481 5.75018C13.44 5.75018 13.6319 5.67692 13.7784 5.5304L14.5284 4.78034C14.8215 4.4873 14.8215 4.01282 14.5284 3.71978C14.2354 3.42674 13.7609 3.42674 13.4679 3.71978L12.7178 4.46984C12.4248 4.76288 12.4248 5.23736 12.7178 5.5304C12.8643 5.67692 13.0562 5.75018 13.2481 5.75018ZM15.4981 6.50006H14.748C14.3335 6.50006 13.998 6.83594 13.998 7.25012C13.998 7.6643 14.3335 8.00018 14.748 8.00018H15.4981C15.9126 8.00018 16.2482 7.6643 16.2482 7.25012C16.2482 6.83594 15.9126 6.50006 15.4981 6.50006Z" fill="#B4F0CB"/>
              <path d="M13.9978 11.0034C14.414 11.0034 14.7515 10.666 14.7515 10.2498C14.7515 9.83352 14.414 9.49609 13.9978 9.49609C13.5816 9.49609 13.2441 9.83352 13.2441 10.2498C13.2441 10.666 13.5816 11.0034 13.9978 11.0034Z" fill="#B4F0CB"/>
              <path d="M2.65706 12.4085C1.77992 13.286 1.77956 14.7127 2.6567 15.5902H2.65706C3.08186 16.015 3.64688 16.2494 4.2479 16.2494C4.84892 16.2494 5.41394 16.015 5.83874 15.5902L10.4023 11.027L7.2206 7.845L2.65706 12.4085ZM11.3728 5.81389C10.7884 5.22871 9.83618 5.22871 9.25172 5.81389L8.28098 6.78463L11.4627 9.96649L12.4332 8.99592C12.7167 8.71279 12.8726 8.33604 12.8726 7.935C12.8726 7.53432 12.7165 7.15795 12.4332 6.87444L11.3728 5.81389Z" fill="#B4F0CB"/>
            </svg>
            <span className="hard-skill-text">{subActivity.hard_tools}</span>
          </div>
        )}

        {/* 소프트스킬 */}
        {subActivity.soft_skills && (
          <div className="skill-tag soft-skill-tag">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
              <path fillRule="evenodd" clipRule="evenodd" d="M3.86667 16H9C12.8663 16 16 12.8661 16 9.00047V9C16 5.1339 12.8663 2 9 2C7.14267 2 5.36234 2.73756 4.05101 4.0503C2.73734 5.36303 2 7.1436 2 9V14.1333C2 15.1642 2.83533 16 3.86667 16ZM5.96667 8.3C5.57933 8.3 5.26667 8.6136 5.26667 9C5.26667 9.3864 5.57933 9.7 5.96667 9.7C6.354 9.7 6.66667 9.3864 6.66667 9C6.66667 8.6136 6.354 8.3 5.96667 8.3ZM12.0333 8.3C11.646 8.3 11.3333 8.6136 11.3333 9C11.3333 9.3864 11.646 9.7 12.0333 9.7C12.4207 9.7 12.7333 9.3864 12.7333 9C12.7333 8.6136 12.4207 8.3 12.0333 8.3ZM9 8.3C8.61267 8.3 8.3 8.6136 8.3 9C8.3 9.3864 8.61267 9.7 9 9.7C9.38733 9.7 9.7 9.3864 9.7 9C9.7 8.6136 9.38733 8.3 9 8.3Z" fill="#6FAF7A"/>
            </svg>
            <span className="soft-skill-text">{subActivity.soft_skills}</span>
          </div>
        )}
      </div>

      {/* 경험 제목 (activity title) */}
      <div className="sub-card-activity-title">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
          <mask id="mask0_sub" style={{maskType: 'alpha'}} maskUnits="userSpaceOnUse" x="0" y="0" width="18" height="18">
            <rect width="18" height="18" fill="#D9D9D9"/>
          </mask>
          <g mask="url(#mask0_sub)">
            <path d="M5.25293 10.502V15.002C5.25293 15.2145 5.18105 15.3926 5.0373 15.5363C4.89355 15.6801 4.71543 15.752 4.50293 15.752C4.29043 15.752 4.1123 15.6801 3.96855 15.5363C3.8248 15.3926 3.75293 15.2145 3.75293 15.002V3.75195C3.75293 3.53945 3.8248 3.36133 3.96855 3.21758C4.1123 3.07383 4.29043 3.00195 4.50293 3.00195H9.88418C10.0592 3.00195 10.2154 3.0582 10.3529 3.1707C10.4904 3.2832 10.5779 3.42695 10.6154 3.60195L10.8029 4.50195H14.2529C14.4654 4.50195 14.6436 4.57383 14.7873 4.71758C14.9311 4.86133 15.0029 5.03945 15.0029 5.25195V11.252C15.0029 11.4645 14.9311 11.6426 14.7873 11.7863C14.6436 11.9301 14.4654 12.002 14.2529 12.002H10.3717C10.1967 12.002 10.0404 11.9457 9.90293 11.8332C9.76543 11.7207 9.67793 11.577 9.64043 11.402L9.45293 10.502H5.25293Z" fill="black" fillOpacity="0.3"/>
          </g>
        </svg>
        <span>{activityTitle}</span>
      </div>

      {/* 세부활동 제목 */}
      <h4 className="sub-card-title">{subActivity.title}</h4>

      {/* 구분선 */}
      <div className="sub-card-divider" />

      {/* 기간 */}
      <div className="sub-card-period">
        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="14" viewBox="0 0 13 14" fill="none">
          <path d="M3.56363 0C3.17263 0 2.8553 0.317333 2.8553 0.708333C1.28917 0.708333 0 1.97838 0 3.54167V4.95833L0.0219625 10.625C0.0219625 12.1876 1.29059 13.4583 2.8553 13.4583H9.93863C11.5033 13.4583 12.772 12.1897 12.772 10.625L12.75 4.95833V3.54167C12.75 1.97554 11.5019 0.708333 9.93863 0.708333C9.93863 0.317333 9.622 0 9.2303 0C8.8393 0 8.52196 0.317333 8.52196 0.708333H4.27196C4.27196 0.317333 3.95534 0 3.56363 0ZM2.8553 2.125C2.8553 2.516 3.17263 2.83333 3.56363 2.83333C3.95534 2.83333 4.27196 2.516 4.27196 2.125H8.52196C8.52196 2.516 8.8393 2.83333 9.2303 2.83333C9.622 2.83333 9.93863 2.516 9.93863 2.125C10.7157 2.125 11.3333 2.754 11.3333 3.54167V4.25C9.9705 4.25 2.7795 4.25 1.41667 4.25V3.54167C1.41667 2.76463 2.06763 2.125 2.8553 2.125ZM1.41667 5.66667C2.7795 5.66667 9.9705 5.66667 11.3333 5.66667L11.3553 10.625C11.3553 11.4049 10.7213 12.0417 9.93863 12.0417H2.8553C2.0733 12.0417 1.43863 11.4077 1.43863 10.625L1.41667 5.66667Z" fill="#303030" fillOpacity="0.4"/>
        </svg>
        <span>
          {formatDate(subActivity.period_start)} ~ {formatDate(subActivity.period_end)}
        </span>
      </div>
    </div>
  );
};

export default SubActivityCard;